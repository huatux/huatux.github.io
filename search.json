[{"title":"Make bootable usb install media on Linux","url":"/2022/07/01/Make-bootable-usb-install-media-on-Linux/","content":"```bash\necho \"g\nn\n\n\n+1G\nn\n\n\n\nt\n1\n11\nt\n2\n11\nw\n\"|fdisk /dev/sdb\n```\n\n```bash\nmount -o loop /data/ISO/en-us_windows_11_business.iso /media/cdrom\n```\n```bash\nmkfs.vfat /dev/sdb1\nmkfs.ntfs -Q /dev/sdb2\n```\n```bash\nmkdir -pv /tmp/{vfat,ntfs}\n```\n```bash\nmount -t vfat /dev/sdb1 /tmp/vfat/\nmount -t ntfs /dev/sdb2 /tmp/ntfs/\n```\n```bash\nrsync -avz --exclude=sources/ /media/cdrom/* /tmp/vfat/\nrsync -avz --exclude=boot.wim /media/cdrom/sources/* /tmp/ntfs/sources/\nmkdir /tmp/vfat/sources/\ncp /media/cdrom/sources/boot.wim /tmp/vfat/sources/\nsync\numount /tmp/vfat\numount /tmp/ntfs\nrm -rf vfat ntfs\n```\n","tags":["Windows","Installation"],"categories":["Linux","Kali"]},{"title":"Cobalt Strike Agent","url":"/2022/06/11/Cobalt-Strike-Agent/","content":"For CobaltStrike Version 4.x\n```bash\ngit clone https://github.com/Twi1ight/CSAgent\ncd CSAgent/\nmvn clean package\nmv target/CSAgent-1.3-SNAPSHOT-jar-with-dependencies.jar /tmp/csagent.jar\n```\n[SetUp Maven Envirment](https://huatux.github.io/2022/06/06/Kali-Notes/)\n","tags":["CobaltStrike","CSAgent","Linux","Java","Maven"],"categories":["Linux","Kali"]},{"title":"Kali Notes","url":"/2022/06/06/Kali-Notes/","content":"> #### Change repository\n```bash\ncat <<EOF>/etc/apt/sources.list\ndeb http://kali.download/kali kali-rolling main contrib non-free\ndeb-src http://kali.download/kali kali-rolling main contrib non-free\nEOF\n```\n> #### update && upgrade\n```bash\napt update\napt full-upgrade\n```\n<!-- more -->\n> #### To use https repository\n```bash\napt -y install apt-transport-https\ncat << EOF >/etc/apt/sources.list\ndeb https://kali.download/kali kali-rolling main contrib non-free\ndeb-src https://kali.download/kali kali-rolling main contrib non-free\nEOF\n```\n\n> #### About Luks\n```bash\n#查看密码槽\ncryptsetup luksDump /dev/sda5\n#添加新密码\ncryptsetup luksAddKey /dev/sda5\n#移除密码\ncryptsetup luksRemoveKey /dev/sda5\n#修改密码\ncryptsetup luksChangeKey /dev/sda5\n#备份luks头文件,并gpg加密保存\ncryptsetup luksHeaderBackup --header-backup-file luksheader.back /dev/sda5\ngpg -e -r huatux luksheader.back\n#恢复luks头文件\ncryptsetup luksHeaderRestore --header-backup-file luksheader.back /dev/sda5\n#添加NUKE密码,输入此密码会清空所有密码槽\ncryptsetup luksAddNuke /dev/sda5\n```\n> #### Iptables\n```bash\niptables-save > /etc/iptables.up.rules\n\ncat << EOF >> /etc/network/if-pre-up.d/iptables\n#!/bin/sh\n/sbin/iptables-restore < /etc/iptables.up.rules\nEOF\n\nchmod +x /etc/network/if-pre-up.d/iptables\n```\n\n> #### chrome \n```bash\ndpkg -i google-chrome-stable_current_amd64.deb\n```\n\n> #### firefox-mozilla\n```bash\ntar xvf firefox-$VERSION.tar.bz2 -C /usr/lib/\nln -s /usr/lib/firefox/firefox-bin /usr/bin/firefox-moz\nsed -i 's#firefox-esr#firefox-moz#' /usr/bin/firefox\ncp /usr/share/applications/{firefox-esr.desktop,firefox-moz.desktop}\nsed -i 's#/usr/lib/firefox-esr/firefox-esr#/usr/lib/firefox/firefox-bin#' /usr/share/applications/firefox-moz.desktop\n```\n\n> #### JDK\n```bash\nhttps://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html\nexport JDK_VERSION=jdk-17.0.3.1\ntar xvf $JDK_VERSION_linux-x64_bin.tar.gz -C /usr/lib/jvm/\nupdate-alternatives --install /usr/bin/java java /usr/lib/jvm/${JDK_VERSION}/bin/java 1\nupdate-alternatives --install /usr/bin/javac javac /usr/lib/jvm/${JDK_VERSION}/bin/javac 1\nupdate-alternatives --install /usr/bin/jar jar /usr/lib/jvm/${JDK_VERSION}/bin/jar 1\nupdate-alternatives --set java  /usr/lib/jvm/${JDK_VERSION}/bin/java\nupdate-alternatives --set javac  /usr/lib/jvm/${JDK_VERSION}/bin/javac\nupdate-alternatives --set jar  /usr/lib/jvm/${JDK_VERSION}/bin/jar\njava -version\n```\n\n> #### JDK ENV\n```bash\ncat <<EOF>>~/.bashrc\nexport JAVA_HOME=/usr/lib/jvm/jdk-17.0.3.1/\nexport PATH=${PATH}:${JAVA_HOME}/bin\nEOF\n```\n\n> #### Apache-Ant\n```bash\nexport APACHE_ANT_VERSION=1.10.12\nwget https://dlcdn.apache.org/ant/binaries/apache-ant-${APACHE_ANT_VERSION}-bin.tar.gz\ntar xvf apache-ant-${APACHE_ANT_VERSION}-bin.tar.gz -C /usr/lib/jvm/\n```\n\n> #### Apache-Ant ENV\n```bash\ncat <<EOF>>~/.bashrc\nexport ANT_HOME=/usr/lib/jvm/apache-ant-1.10.12/\nexport PATH=${PATH}:${ANT_HOME}/bin\nEOF\n```\n\n> #### Apache-Maven\n```bash\nexport APACHE_MAVEN_VERSION=3.8.5\nwget https://dlcdn.apache.org/maven/maven-3/${APACHE_MAVEN_VERSION}/binaries/apache-maven-${APACHE_MAVEN_VERSION}-bin.tar.gz\ntar xvf apache-maven-${APACHE_MAVEN_VERSION}-bin.tar.gz -C /usr/lib/jvm/\n```\n\n> #### Apache-Maven ENV\n```bash\ncat <<EOF>>~/.bashrc\nexport MAVEN_HOME=/usr/lib/jvm/apache-maven-3.8.5/\nexport PATH=${PATH}:${MAVEN_HOME}/bin\nEOF\n```\n\n> #### Go\n```bash\nexport GO_VERSION=1.18.3\nhttps://go.dev/dl/go${GO_VERSION}.linux-amd64.tar.gz\ntar xvf go${GO_VERSION}.linux-amd64.tar.gz -C /usr/local/\n\ncat <<EOF>>~/.bashrc\nexport GOROOT=/usr/local/go\nexport GOPATH=/usr/local/go/work\nexport PATH=$PATH:/usr/local/go/bin\nEOF\n```\n\n> #### Github CLI\n```bash\ngit clone https://github.com/cli/cli.git gh-cli\ncd gh-cli/\nmake install\n```\n\n\n> #### Chinese Input method\n```bash\napt-get install fcitx5 fcitx5-pinyin kde-config-fcitx5 fcitx5-material-color\nim-config\nsed -i 's/CloudPinyinEnabled=True/CloudPinyinEnabled=False/' /home/huatux/.config/fcitx5/conf/pinyin.conf\n```\n","tags":["Linux","Kali"],"categories":["Linux","Kali"]},{"title":"Compile ffmpeg with cuda","url":"/2022/06/06/Compile-ffmpeg-with-cuda/","content":"```bash\ngit clone https://git.ffmpeg.org/ffmpeg.git ffmpeg/\n\n./configure --prefix=/usr --extra-version=+A51m-GPU --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2 --enable-pocketsphinx --enable-librsvg --enable-libmfx --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libx264 --enable-nonfree --enable-cuda-nvcc --enable-libnpp --extra-cflags=-I/usr/local/cuda/include --extra-ldflags=-L/usr/local/cuda/lib64 --disable-static --enable-shared\n\nmake -j$(nproc)\nmake install\n```\n","tags":["Linux","ffmpeg","compile"],"categories":["Linux"]},{"title":"Decompile Java Jar","url":"/2022/06/06/Decompile-Java-Jar/","content":"> #### 安装Java 17\n<https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html>\n```bash\nexport JDK_VERSION=jdk-17.0.3.1\ntar xvf ${JDK_VERSION}_linux-x64_bin.tar.gz -C /usr/lib/jvm/\nupdate-alternatives --install /usr/bin/java java /usr/lib/jvm/${JDK_VERSION}/bin/java 1\nupdate-alternatives --install /usr/bin/javac javac /usr/lib/jvm/${JDK_VERSION}/bin/javac 1\nupdate-alternatives --install /usr/bin/jar jar /usr/lib/jvm/${JDK_VERSION}/bin/jar 1\nupdate-alternatives --set java  /usr/lib/jvm/${JDK_VERSION}/bin/java\nupdate-alternatives --set javac  /usr/lib/jvm/${JDK_VERSION}/bin/javac\nupdate-alternatives --set jar  /usr/lib/jvm/${JDK_VERSION}/bin/jar\njava -version\n```\n> #### 编译fernflower\n```bash\ngit clone https://github.com/JetBrains/intellij-community/\ncd intellij-community/plugins/java-decompiler/engine/\n./gradlew build\ncp build/libs/fernflower.jar /tmp/\n```\n> #### 反编译jar文件\n```bash\njava -cp fernflower.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler -dgs=true /tmp/cobaltstrike_4.5_original.jar /tmp/decompiled\n```\n<!-- more -->\n> #### 编译修改好的Java程序\n```bash\n javac -classpath CobaltStrike_4.5_original.jar Aggressor.java\n javac -classpath CobaltStrike_4.5_original.jar AggressorClient.java\n javac -classpath CobaltStrike_4.5_original.jar AuthCrypto.java\n javac -classpath CobaltStrike_4.5_original.jar BeaconData.java\n```\n> #### DONE!\n```bash\n jar uf cobaltstrike_4.5_original.jar Aggressor.class\n ...\n ...\n ...\n```\n\n\n\n","tags":["Java","Decompile"],"categories":["Java","Decompile"]},{"title":"最小化安装Kali_Linux","url":"/2022/06/06/最小化安装Kali-Linux/","content":"> /boot  **512M**\n```bash\nparted -s /dev/sda mklabel msdos\nparted -s /dev/sda mkpart primary ext3 0% 512M\nparted -s /dev/sda mkpart primary ext4 512M  100%\n```\n```bash\nmkfs.ext3 /dev/sda1\ncryptsetup -v --verify-passphrase luksFormat /dev/sda2\ncryptsetup luksOpen /dev/sda2 sda2-crypt\n```\n<!-- more -->\n> swap **4G**\n```bash\npvcreate /dev/mapper/sda2-crypt\nvgcreate kali /dev/mapper/sda2-crypt\nlvcreate -L 4G kali -n swap\nlvcreate -l +100%FREE kali -n root\nmkswap /dev/mapper/kali-swap\nmkfs.ext4 /dev/mapper/kali-root\n```\n```bash\nmkdir /mnt/kali\nmount /dev/mapper/kali-root /mnt/kali\nmkdir /mnt/kali/boot\nmount -t ext3 /dev/sda1 /mnt/kali/boot\n```\n```bash\ncd /tmp\nwget http://kali.download/kali/pool/main/d/debootstrap/debootstrap_1.0.123.tar.gz\ntar xvf debootstrap*.tar.gz -C /tmp\nrm -rf /usr/share/debootstrap\nln -s /tmp/debootstrap /usr/share/debootstrap && cd /usr/share/debootstrap\n#wget -q -O - https://archive.kali.org/archive-key.asc | apt-key add\n./debootstrap --foreign --arch amd64 kali-rolling /mnt/kali http://kali.download/kali\n```\n```bash\nmkdir /mnt/kali/etc/lvm\nrsync -avz /etc/lvm/* /mnt/kali/etc/lvm\n```\n```bash\nchroot /mnt/kali/ /debootstrap/debootstrap --second-stage\n```\n```bash\ncat > /mnt/kali/etc/resolv.conf << EOF\nnameserver 8.8.8.8\nnameserver 8.8.4.4\nEOF\n```\n```bash\ncat > /mnt/kali/etc/apt/sources.list << EOF\ndeb http://kali.download/kali kali-rolling main non-free contrib\ndeb-src http://kali.download/kali kali-rolling main non-free contrib\nEOF\n```\n```bash\ncat > /mnt/kali/etc/crypttab << EOF\nsda2-crypt /dev/sda2 none luks\nEOF\n```\n```bash\nexport NET_INTERFACE=eth0\nexport STATIC_IP=$(ifconfig $NET_INTERFACE|grep inet|grep -v inet6|awk -F\" \" '{print $2}')\nexport GATE_WAY=$(/sbin/ip route|awk '/default/ { print $3 }')\necho \"IP:$STATIC_IP     GW:$GATE_WAY\"\n```\n```bash\ncat >> /mnt/kali/etc/network/interfaces << EOF\nauto eth0\niface eth0 inet static\naddress $STATIC_IP\nnetmask 255.255.255.0\ngateway $GATE_WAY\ndns-nameserver 8.8.8.8\ndns-nameserver 8.8.4.4\nEOF\n```\n```bash\necho 'Linode' > /mnt/kali/etc/hostname\n```\n```bash\ncat > /mnt/kali/etc/hosts << EOF\n127.0.0.1   localhost\n# The following lines are desirable for IPv6 capable hosts\n::1     localhost ip6-localhost ip6-loopback\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\nEOF\n```\n```bash\ncat > /mnt/kali/etc/fstab << EOF\n/dev/mapper/kali-root /               ext4    errors=remount-ro 0       1\n/dev/sda1 /boot           ext3    defaults        0       2\n/dev/mapper/kali-swap none            swap    sw              0       0\nEOF\n```\n```bash\ncat >> /mnt/kali/etc/modprobe.d/blacklist.conf<< EOF\nblacklist floppy\nEOF\n```\n```bash\nfor fs in /dev /sys /proc /dev/pts;do mount --bind $fs /mnt/kali$fs;done\n```\n```bash\nchroot /mnt/kali /bin/bash \n```\n```bash\napt update \napt-get -y install net-tools initramfs-tools openssh-server linux-image-5.9.0-kali5-amd64\napt-get -y install locales-all\napt-get -y install locales console-common less vim git apt-transport-https network-manager\napt-get -y install cryptsetup lvm2\nsystemctl enable lvm2\n```\n<!-- more -->\n\n> **grub2** 安装的时候记得安装到 **/dev/sda**\n```bash\napt-get -y install grub2\ngrub-install /dev/sda\nupdate-grub\nssh-keygen -A\nsystemctl enable ssh\nupdate-initramfs -u\n\nsed -i '1iPort 2200' /etc/ssh/sshd_config\nsed -i 's/^#PermitRootLogin.*/PermitRootLogin yes/' /etc/ssh/sshd_config\nsed -i 's$^#PasswordAuthentication.*$PasswordAuthentication no$' /etc/ssh/sshd_config\nsed -i 's@^#AuthorizedKeysFile.*@AuthorizedKeysFile .ssh/authorized_keys@' /etc/ssh/sshd_config\nmkdir ~/.ssh\ncat >> ~/.ssh/authorized_keys << EOF\nssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAgEA3hyus0hdgLP2IBleryDJYByxTGIz+z+pbSpdJ5mUgD9QSzzGxAgwD1OzUFAjJQ4UVaBA+bNlYb5KBC7Cd1FIv2s/6I5dPTmjWUfbdtIm0paDtoUILlTUNiZEhEz6NSz+sy+mSyF5hw3RlxTQxkIH5Q50rv2bJO6L3h7tsDZxYz+blkgWkByVkDwNxbChzeF5PFYTXN+fX+wkgPwwOLBidhopgV3+8T+Me8FChlOmdIPTa6vhx5+AicddxhpyYrqlQ9TMz+NVZh2cvyrovHHARFPcPA9mWIHEpJ7333HYz8tbWCQkfdmlpWXQ9fQX2XDR/pLcNg9iVXGLbx0lgMkv3osP94mAWGTsQWI2iq8AjQ0Zr4VmO3n6AX8Yi87zpFzSDOAPzUPJnpiH5TSurHweaNIVYwzms8nL0+bwb1fiqEtRyRz3l3iucUOVILNutrKYvm7KZIaAITGtLNK18wovuIYAzcBLBfOC8KjwAMF2/cknrnegh2stg5zo5xWet5S/pTVkMjTv8Flr6m/cmp73eLwrWVQKYPBh4eveS3o9oXUoDuDMViQMeY/cNwDazFqlWnnSkfdYoVcmJwaAGS2p0HUGR4U05JmCG6618DOCJTsurncROzSDCACnajurFyLAdHyo6Os8nGRY7Hwd8yzA8zhVRgZBwUuklNbrSOrKt0U= root@public_key\nEOF\nchmod 600 ~/.ssh/authorized_keys\n\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\npasswd root\n```\n> 启动时候解锁 **luks**\n```bash\napt-get -y install busybox dropbear* initramfs-tools net-tools\n\ncat << EOF >> /etc/dropbear/initramfs/dropbear.conf\nDROPBEAR_OPTIONS=\"-p 2222\"\nEOF\n\ncp ~/.ssh/authorized_keys /etc/dropbear/initramfs/authorized_keys\n#sed -i '1s#^#no-port-forwarding,no-agent-forwarding,no-X11-forwarding,command=\"/bin/cryptroot-unlock\" #' /etc/dropbear-initramfs/authorized_keys\n\necho $(grep DRIVER /sys/class/net/$NET_INTERFACE/device/uevent|cut -d'=' -f2) >> /etc/initramfs-tools/modules\n\ncat << EOF >> /etc/initramfs-tools/conf.d/network_config\n#export IP=:::::eth0:dhcp\nexport IP=$STATIC_IP::$GATE_WAY:255.255.255.0:kali:eth0:off\nEOF\n\nsed -i 's#GRUB_CMDLINE_LINUX=\"\"#GRUB_CMDLINE_LINUX=\"net.ifnames=0 biosdevname=0\"#' /etc/default/grub\n\nchmod 600 /etc/dropbear/initramfs/authorized_keys\nupdate-initramfs -u\nexit\nfor fs in /dev /sys /proc /dev/pts /;do umount /mnt/kali$fs;done\n```\n```bash\napt-get install build-essential\n```\n\n```bash\necho \"tcp_bbr\" >> /etc/modules-load.d/modules.conf\n\necho \"net.core.default_qdisc=fq\" >> /etc/sysctl.conf\necho \"net.ipv4.tcp_congestion_control=bbr\" >> /etc/sysctl.conf\nsysctl -p\n```\n","tags":["Kali","Installation"],"categories":["Linux","Kali"]},{"title":"编译shadowsocks-libev","url":"/2022/06/06/编译shadowsocks-libev/","content":"> 安装编译依赖包\n\n```bash\napt-get install --no-install-recommends gettext build-essential autoconf libtool asciidoc xmlto automake pkg-config python2\n```\n```bash\n#yum install gcc gettext autoconf libtool automake make pcre-devel asciidoc xmlto gcc-c++ -y\n```\n> 编译\n```bash\nLIBEV_VER=4.33\nMBEDTLS_VER=2.28.0\nLIBSODIUM_VER=LATEST\nPCRE_VER=8.45\nCARES_VER=1.18.1\nTARGET_DIR=/tmp/BUILD\nmkdir -pv $TARGET_DIR\n#centos 7\n#CARES_VER=1.17.2\n```\n<!-- more -->\n```bash\ncd $TARGET_DIR\nwget https://c-ares.haxx.se/download/c-ares-${CARES_VER}.tar.gz && tar xvf c-ares-${CARES_VER}.tar.gz\ncd c-ares-${CARES_VER}\n./configure --prefix=/usr\nmake -j$(nproc)\nmake install\n```\n```bash\ncd $TARGET_DIR\nwget https://versaweb.dl.sourceforge.net/project/pcre/pcre/${PCRE_VER}/pcre-${PCRE_VER}.tar.gz && tar xvf pcre-${PCRE_VER}.tar.gz\ncd pcre-${PCRE_VER}\n./configure --prefix=/usr --enable-jit --enable-utf8 --enable-unicode-properties\nmake -j$(nproc)\nmake install\n```\n```bash\ncd $TARGET_DIR\nwget https://github.com/ARMmbed/mbedtls/archive/refs/tags/v${MBEDTLS_VER}.tar.gz && tar xvf v${MBEDTLS_VER}.tar.gz\ncd mbedtls-${MBEDTLS_VER}\nmake SHARED=1 CFLAGS=\"-O2 -std=c99\" -j$(nproc)\nmake install DESTDIR=/usr\n```\n```bash\ncd $TARGET_DIR\ncurl -O https://download.libsodium.org/libsodium/releases/${LIBSODIUM_VER}.tar.gz && tar xvf ${LIBSODIUM_VER}.tar.gz\ncd libsodium-stable\n./configure --prefix=/usr --disable-ssp\nmake -j$(nproc)\nmake install\n```\n```bash\ncd $TARGET_DIR\nwget http://dist.schmorp.de/libev/libev-${LIBEV_VER}.tar.gz && tar xvf libev-${LIBEV_VER}.tar.gz\ncd libev-${LIBEV_VER}\n./configure --prefix=/usr\nmake -j$(nproc)\nmake install\n```\n```bash\ncd $TARGET_DIR\ngit clone https://github.com/shadowsocks/shadowsocks-libev.git\ncd shadowsocks-libev\ngit submodule update --init --recursive\n./autogen.sh\n\n./configure --build=x86_64-linux-gnu --prefix=/usr --includedir=/usr/include --mandir=/usr/share/man --infodir=/usr/share/info --sysconfdir=/etc --localstatedir=/var --disable-silent-rules --libdir=/usr/lib/x86_64-linux-gnu --libexecdir=/usr/lib/x86_64-linux-gnu --disable-maintainer-mode --disable-dependency-tracking --enable-shared --disable-ssp --with-sodium-include=/usr/include --with-sodium-lib=/usr/lib --with-mbedtls-include=/usr/include --with-mbedtls-lib=/usr/lib\n\nmake -j$(nproc)\nmake install\n```\n服务端配置\n```bash\nmkdir /etc/shadowsocks-libev\n\ncat << EOF > /etc/shadowsocks-libev/server.json\n{\n    \"server\":\"0.0.0.0\",\n    \"server_port\":PORT,\n    \"nameserver\":\"8.8.8.8\",\n    \"password\":\"PASS\",\n    \"timeout\":300,\n    \"method\":\"chacha20-ietf-poly1305\"\n}\nEOF\n\ncat << EOF >> /etc/systemd/system/shadowsocks.service\n[Unit]\nDescription=Shadowsocks-libev Default Server Service\nDocumentation=man:shadowsocks-libev(8)\nAfter=network.target\n\n[Service]\nType=simple\nUser=nobody\nGroup=nogroup\nLimitNOFILE=32768\nExecStart=/usr/bin/ss-server -c /etc/shadowsocks-libev/server.json -u\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n#systemctl start/enable/stop/disable shadowsocks\n```\n客户端配置\n```bash\nmkdir /etc/shadowsocks-libev\n\ncat << EOF > /etc/shadowsocks-libev/client.json\n{\n    \"server\":\"SERVER_IP\",\n    \"server_port\":PORT,\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":8080,\n    \"nameserver\":\"8.8.8.8\",\n    \"password\":\"PASS\",\n    \"timeout\":300,\n    \"method\":\"chacha20-ietf-poly1305\"\n}\nEOF\n\ncat << EOF > /etc/shadowsocks-libev/client2.json\n{\n    \"server\":\"SERVER_IP\",\n    \"server_port\":PORT,\n    \"local_address\":\"127.0.0.1\",\n    \"local_port\":8080,\n    \"nameserver\":\"8.8.8.8\",\n    \"password\":\"PASS\",\n    \"timeout\":300,\n    \"method\":\"chacha20-ietf-poly1305\"\n}\nEOF\n\n\ncat << EOF >> /etc/systemd/system/shadowsocks@.service\n[Unit]\nDescription=Shadowsocks-Libev Custom Client Service for X\nDocumentation=man:ss-local(1)\nAfter=network-online.target\n\n[Service]\nType=simple\nUser=nobody\nGroup=nogroup\nCapabilityBoundingSet=CAP_NET_BIND_SERVICE\nAmbientCapabilities=CAP_NET_BIND_SERVICE\nExecStart=/usr/bin/ss-local -c /etc/shadowsocks-libev/%i.json\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n#systemctl start/enable/stop/disable shadowsocks@配置文件名\n```\n> RedHat系列 Group=**nogroup**改为Group=**nobody**\n\n","tags":["Linux","Shadowsocks-libev"],"categories":["Linux"]},{"title":"Kali Dark Theme For Koncosle","url":"/2022/06/05/Kali-Dark-Koncosle/","content":"```bash\ncat <<EOF> /usr/share/konsole/Kali-Dark.profile\n[Appearance]\nColorScheme=Kali-Dark\nFont=DejaVu Sans Mono,9,-1,5,75,0,0,0,0,0,Bold\n\n[General]\nName=Kali-Dark\nParent=FALLBACK/\nEOF\n```\n<!-- more -->\n```bash\ncat <<EOF> /usr/share/qtermwidget5/color-schemes/Kali-Dark.colorscheme\n[Background]\nColor=35,37,46\n\n[BackgroundFaint]\nColor=35,37,46\n\n[BackgroundIntense]\nColor=35,37,46\n\n[Color0]\nColor=31,34,41\n\n[Color0Faint]\nColor=31,34,41\n\n[Color0Intense]\nColor=25,131,136\n\n[Color1]\nColor=212,25,25\n\n[Color1Faint]\nColor=212,25,25\n\n[Color1Intense]\nColor=236,1,1\n\n[Color2]\nColor=94,189,171\n\n[Color2Faint]\nColor=94,189,171\n\n[Color2Intense]\nColor=71,212,185\n\n[Color3]\nColor=254,164,76\n\n[Color3Faint]\nColor=254,164,76\n\n[Color3Intense]\nColor=255,138,24\n\n[Color4]\nColor=54,123,240\n\n[Color4Faint]\nColor=54,123,240\n\n[Color4Intense]\nColor=39,127,255\n\n[Color5]\nColor=151,85,179\n\n[Color5Faint]\nColor=151,85,179\n\n[Color5Intense]\nColor=150,42,195\n\n[Color6]\nColor=73,174,230\n\n[Color6Faint]\nColor=73,174,230\n\n[Color6Intense]\nColor=5,161,247\n\n[Color7]\nColor=230,230,230\n\n[Color7Faint]\nColor=230,230,230\n\n[Color7Intense]\nColor=255,255,255\n\n[Foreground]\nColor=150,150,150\n\n[ForegroundFaint]\nColor=100,100,100\n\n[ForegroundIntense]\nColor=117,117,117\n\n[General]\nBlur=true\nColorRandomization=false\nDescription=Kali Dark\nOpacity=0.9\nWallpaper=\nEOF\n```\n","tags":["Kali"],"categories":["Linux","Kali"]}]